<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CBSE Worksheet Generator | Grade 1 - Cambridge Shades</title>
  <meta name="description" content="AI-powered worksheet generator for CBSE Grade 1 students using Cambridge Shades textbooks. Generate practice sheets, mock tests, and revision worksheets." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Patrick+Hand&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <span class="logo-icon">ğŸ“š</span>
        <div class="logo-text">
          <h1>CBSE Worksheet Generator</h1>
          <p>Grade 1 â€¢ Cambridge Shades â€¢ Bhashyam Blooms</p>
        </div>
      </div>
      <div class="header-actions">
        <button class="btn btn-icon" id="themeToggle" title="Toggle theme" aria-label="Toggle dark/light theme">ğŸŒ™</button>
      </div>
    </div>
  </header>

  <!-- Main App -->
  <main class="main">
    <!-- Step 1: Subject Selection -->
    <section class="step step-active" id="stepSubjects" data-step="1">
      <div class="step-header">
        <span class="step-indicator" id="stepIndicator" aria-live="polite">Step 1 of 4</span>
        <span class="step-number">1</span>
        <h2>Choose a Subject</h2>
        <p>Select the subject you want to create a worksheet for</p>
      </div>
      <div class="subject-grid" id="subjectGrid">
        <!-- Filled by JS -->
      </div>
    </section>

    <!-- Step 2: Chapter Selection -->
    <section class="step" id="stepChapters" data-step="2">
      <div class="step-header">
        <span class="step-indicator" aria-live="polite">Step 2 of 4</span>
        <button class="btn-back" id="backToSubjects">â† Back</button>
        <span class="step-number">2</span>
        <h2 id="selectedSubjectTitle">Select Chapter</h2>
        <p>Choose the chapter for your worksheet</p>
      </div>
      <div class="chapter-list" id="chapterList">
        <!-- Filled by JS -->
      </div>
    </section>

    <!-- Step 3: Worksheet Options -->
    <section class="step" id="stepOptions" data-step="3">
      <div class="step-header">
        <span class="step-indicator" aria-live="polite">Step 3 of 4</span>
        <button class="btn-back" id="backToChapters">â† Back</button>
        <span class="step-number">3</span>
        <h2>Customize Your Worksheet</h2>
        <p id="selectedChapterTitle">Configure options for your worksheet</p>
      </div>
      <div class="options-grid">
        <div class="option-group">
          <h3>ğŸ“„ Worksheet Type</h3>
          <div class="option-cards" id="typeCards">
            <!-- Filled by JS -->
          </div>
        </div>
        <div class="option-group">
          <h3>ğŸ“Š Difficulty Level</h3>
          <div class="option-cards" id="difficultyCards">
            <!-- Filled by JS -->
          </div>
        </div>
        <div class="option-group">
          <h3>âš™ï¸ Options</h3>
          <div class="toggle-options">
            <label class="toggle-label">
              <input type="checkbox" id="includeAnswers" />
              <span class="toggle-switch"></span>
              <span>Include Answer Key</span>
            </label>
          </div>
        </div>
      </div>
      <div class="generate-section">
        <button class="btn btn-generate" id="generateBtn">
          <span class="btn-icon">âœ¨</span>
          Generate Worksheet
        </button>
      </div>
    </section>

    <!-- Step 4: Generated Worksheet -->
    <section class="step" id="stepWorksheet" data-step="4">
      <div class="step-header">
        <span class="step-indicator" aria-live="polite">Step 4 of 4</span>
        <button class="btn-back" id="backToOptions">â† Back to Options</button>
        <div class="worksheet-actions">
          <button class="btn btn-action" id="printBtn">ğŸ–¨ï¸ Print</button>
          <button class="btn btn-action" id="downloadBtn">ğŸ“¥ Download PDF</button>
          <button class="btn btn-action btn-regenerate" id="regenerateBtn">ğŸ”„ Regenerate</button>
        </div>
      </div>
      <div class="worksheet-container" id="worksheetContainer">
        <!-- Generated worksheet rendered here -->
      </div>
    </section>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" role="dialog" aria-modal="true" aria-labelledby="loadingTitle" aria-describedby="loadingTip">
      <div class="loading-content">
        <div class="loading-spinner">
          <div class="spinner-ring"></div>
          <span class="loading-emoji">ğŸ¤–</span>
        </div>
        <h3 id="loadingTitle">Creating Your Worksheet...</h3>
        <p class="loading-tip" id="loadingTip">AI is crafting perfect questions for you!</p>
        <div class="loading-dots">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <!-- Error Modal -->
    <div class="modal" id="errorModal" role="dialog" aria-modal="true" aria-labelledby="errorTitle" aria-describedby="errorMessage">
      <div class="modal-content">
        <div class="modal-icon">âš ï¸</div>
        <h3 id="errorTitle">Something went wrong</h3>
        <p id="errorMessage">Please try again.</p>
        <div class="modal-actions">
          <button class="btn btn-primary" id="errorClose">Got it</button>
          <button class="btn btn-action btn-regenerate" id="errorRetryBtn">Retry</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>Made with â¤ï¸ for exam prep â€¢ Powered by Gemini AI</p>
  </footer>

  <script type="module" src="/js/app.js"></script>
</body>
</html>
